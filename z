e=[{m:"0000000000000000000000000000000000000000000000000000000000000000301111111111111111111111111111111111111111111111111111111",s:[1,5],t:["RUN WITH ARROW KEYS",200,200,"#000"]},{m:"0000000000000000000000000000000000000000000000000000000000000000301110111011111101110111111011101111110111011111121112111",s:[1,5],t:["PRESS UP TO JUMP",250,150,"#000"]},{m:"0000000000000000000000000000000000011100000000000010000000000001000000000000111001001111110010311111100100111111221221111",s:[1,6],K:[{t:0,k:[3,2],f:[[8,9],[9,9]],n:[[6,9],[7,9]]}],t:["GRAB THE COIN",250,50,"#000"]},{m:"0000000000000000000000000000000000000003000000000011011110000000111111000001111111100011111111111111111111111111111111111",s:[1,4],t:["SOMETIMES ALL YOU NEED TO DO IS SHIFT!",100,50,"#fff"]},{m:"0002000000000010000000401100000011011001100100010011001000100000010001000000100010000001000112200011001111111111111111111",s:[1,7],K:[{t:0,k:[7,4],f:[[3,7],[2,7]],n:[[4,7],[5,7]]}]},{m:"1000000000010011111110101000000101010011001010101011010101011010101010000101010011111010100000000100111111111030000000000",s:[3,6],K:[{t:0,k:[5,4],f:[[7,3],[8,3]],n:[[6,3],[7,3]]},{t:0,k:[1,6],f:[[10,1]],n:[[11,1]]}]},{m:"0000000000000001111111000000001011100000010111002210011110111100111101111000111000110001100001100111000111011113221111111",s:[1,2],K:[{t:0,k:[9,2],f:[[1,9],[2,9]],n:[[3,9],[4,9]]}],t:["PRESS SPACE TO RESTART",250,40,"#000"]},{m:"0000010100000000101000010001010000101111000001011110110110111101100101111011001011100110000001111100001110000001111100022",s:[],K:[]},{m:"0002200000010111100111101111011000000010111100000100000101101100001001000000110011100011100001100111100011001112222112111",s:[],K:[]},{m:"0000000000000000000000000000000001110110110111101101101100000000011000000000110111111111101110000001000001111111000111111",s:[],K:[]},{m:"0200002000001000011000010000110000100001100001000011000010010100000100001002001122110010011111111100110000000001110000000",s:[],K:[]},{m:"0000000000011111100000000000010000000000000111111011111000010000110000000001100000011011000010110110000111111100011111111",s:[],K:[]},{m:"0010001000110110011001101100110011011001100110110011001101100110011011001100110110011001101100110010011001100101110111011",s:[],K:[],spikes:1},{m:"0000000000000000000000000000000000000000000000000000000000000000001111000001111110000011111100000111111000001111110000011",s:[],K:[],spikes:1}],t=.6,f=.8,o=1,n=A.getContext`2d`,c=0,v=0,k=0,S=0,K=0,R=0,T=0,p=(i,l)=>(X=~~i,Y=~~l,+m[11*Y+X]),E=(l,t)=>{if(1==p(l,t)||4==p(l,t))return 1;if(e[v].K)for(i of e[v].K)for(j of i[i.t?"n":"f"])if(T){if(~~l==10-j[0]&&~~t==10-j[1])return 1}else if(~~l==j[0]&&~~t==j[1])return 1},h=(i,l)=>{if(1==p(i,l)||4==p(i,l))return 1},g=l=>{if(x=e[l].s[0]+.3,y=e[l].s[1],vx=0,vy=0,R=0,T=0,o=1,m=e[l].m,A.style.transform="",e[l].K)for(i of e[l].K)i.t=0},O=s=u=d=l=r=0;g(v),setInterval(()=>{if(A.width^=0,n.save(),k&&k<9&&(A.style.transform=`rotate(${(10-k)/20}turn)`,1==k&&(m=m.split("").reverse().join("").replace(/0/g,9).replace(/1/g,0).replace(/9/g,1).replace(/3/g,9).replace(/4/g,3).replace(/9/g,4),A.style.transform="",x=10-x+.3,y=10-y,T=1-T,o=1)),K>10||!K){for(i=0;i<11;i++)for(j=0;j<11;j++)a=m[11*j+i],!T&&1==a||T&&0==a?n.fillRect(64*i,64*j,64,64):2==a?(n.moveTo(64*i,64*j+(T?0:64)),n.lineTo(64*i+16,64*j+(T?64:0)),n.lineTo(64*i+32,64*j+(T?0:64)),n.lineTo(64*i+48,64*j+(T?64:0)),n.lineTo(64*i+64,64*j+(T?0:64)),n.fill()):!T&&3==a||T&&4==a?(n.fillStyle="#888",n.fillRect(64*i+10,64*j+(T?0:10),44,54),n.fillStyle="#000",n.fillRect(64*i+42,64*j+(T?27:37),7,4)):(!T&&4==a||T&&3==a)&&(n.fillRect(64*i,64*j,64,64),n.fillStyle="#888",n.fillRect(64*i+10,64*j+(T?10:0),44,54),n.fillStyle="#000",n.fillRect(64*i+42,64*j+27,7,4));if(e[v].K)for(i of(n.fillStyle="#aaa",e[v].K))if(i.t)for(j of i.n)T?n.fillRect(64*(10-j[0]),64*(10-j[1]),64,64):n.fillRect(64*j[0],64*j[1],64,64);else for(j of(n.beginPath(),T?n.arc(64*(10-i.k[0])+32,64*(10-i.k[1])+32,16,0,7):n.arc(64*i.k[0]+32,64*i.k[1]+32,16,0,7),n.fill(),n.closePath(),i.f))T?n.fillRect(64*(10-j[0]),64*(10-j[1]),64,64):n.fillRect(64*j[0],64*j[1],64,64);e[v].t&&(n.font='20px "Comic Sans MS",cursive',n.fillStyle=e[v].t[3],n.save(),"#fff"==e[v].t[3]^T&&(n.translate(350,350),n.rotate(3.14),n.translate(-350,-350)),n.fillText(e[v].t[0],e[v].t[1],e[v].t[2]),n.restore())}if(s)0==k&&h(x,y+f)&&h(x+t-.1,y+f)&&(k=20);else if(K)1==--K&&g(++v);else if(S)1==--S&&g(v);else if(r&&!k?vx=.17:l&&!k?vx=-.17:vx=0,u&&R&&c&&(c=1-c,vy=-.32),1-R&&(vy+=.045,vy=Math.min(vy,1)),y+=vy,x+=vx,y+f>11&&(y=10.2,vy=0),y<0&&(y=0,vy=0),x<0&&(x=0),x+t>11&&(x=10.4),(E(x,y)&&E(x+(.17+.01),y)||E(x+t,y)&&E(x+t-(.17+.01),y))&&(vy=0,y=Math.ceil(y)),vy>=0&&(E(x,y+f)&&E(x+(.17+.01),y+f)||E(x+t,y+f)&&E(x+t-(.17+.01),y+f))&&(vy=0,y=~~(y+f)-f),(E(x,y)&&E(x,y+(.17+.01))||E(x,y+f)&&E(x,y+f-(.17+.01)))&&(x=Math.ceil(x)),(E(x+t,y)&&E(x+t,y+(.17+.01))||E(x+t,y+f)&&E(x+t,y+f-(.17+.01)))&&(x=~~(x+t)-t),2!=p(x+.3,y+.3)&&2!=p(x+.3,y+f-.3)&&2!=p(x+t-.3,y+.3)&&2!=p(x+t-.3,y+f-.3)||(S=20),(R=10.2==y||E(x,y+f)&&E(x+(.17+.01),y+f)||E(x+t-(.17+.01),y+f)&&E(x+t,y+f)?1:0)&&3==p(x,y)&&3==p(x+t,y)&&(K=30),e[v].K)for(i of e[v].K)T?!i.t&&~~x>=10-i.k[0]&&~~x<10-i.k[0]+1&&~~y>=10-i.k[1]&&~~y<10-i.k[1]+1&&(i.t=1):!i.t&&~~x>=i.k[0]&&~~x<i.k[0]+1&&~~y>=i.k[1]&&~~y<i.k[1]+1&&(i.t=1);n.fillStyle=K?"#2B3":S?"#b11":"#468",n.save(),n.translate(64*x+19.2,64*y+51.2),n.scale(1,o),n.fillRect(-19.2,0,38.4,-51.2),n.restore(),k&&--k>9&&(o=-(15-k)/5),(K&&K<9||S&&S<9)&&(n.fillStyle="#000",n.fillRect(0,0,704,704)),askshift=0},33),onkeydown=onkeyup=(i=>{top["lurdl*d*l*ur*u*_***s"[(i.which+3)%20]]=i.type[3]<"u",u||(c=1),O&&g(v)})